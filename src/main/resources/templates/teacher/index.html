<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Teachers</title>

    <link type="text/css" rel="stylesheet" href="../stylesheet.css"/>

    <link rel="stylesheet"
          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
          crossorigin="anonymous"/>
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans+TC" rel="stylesheet">

    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
            integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
            crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>

<div th:replace="/../include/menu::menu"></div>

<div class="row mt-5">
    <div class="col-2"></div>
    <div class="col-8">
        <table id="table" class="table table-striped">
            <thead>
            <tr>
                <th>Name</th>
                <th>Something else</th>
                <th>noget trejde jeg ik ka husk</th>
            </tr>
            </thead>
            <tbody>
            <tr></tr>

            </tbody>
        </table>
    </div>
    <div class="col-2"></div>

</div>
</body>

<script>
  $.ajax({
    method: "get",
    url: "/api/teacherByName",
    success: function (list) {
      $('#table > thead tr').append('<th>' + Object.keys(list[0])[0] + '</th>');
      $('#table > thead tr').append('<th>' + Object.keys(list[0])[2] + '</th>');
      $('#table > thead tr').append('<th><a href="/teacher/create" class="btn btn-success float-right">Add new course</a></th>');


      for (var i = 0; i < list.length; i++) {
        var tr = "<tr>";
        tr += '<td>' + list[i].name + '</td>'
        tr += '<td>' + list[i].email + '</td>'

        tr += '<td><a href="/teacher/update/' + list[i].id + '" class="btn btn-primary float-right">Edit</a></td>';
        tr += "</tr>";
        $("#table tr:last").after(tr);
      }
    }
  });
</script>
</html>